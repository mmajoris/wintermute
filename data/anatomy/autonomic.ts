import type { BiologicalNode } from "@/lib/types";

export const autonomicSystem: BiologicalNode = {
  id: "autonomic-nervous-system",
  name: "Autonomic Nervous System",
  level: "system",
  category: "autonomic",
  description:
    "The involuntary control system regulating visceral functions including heart rate, digestion, respiratory rate, pupillary response, urination, and sexual arousal. Operates below conscious awareness to maintain homeostasis.",
  functions: [
    "Regulate heart rate and blood pressure",
    "Control digestion and metabolism",
    "Manage fight-or-flight response",
    "Maintain rest-and-digest state",
    "Regulate pupil dilation and constriction",
    "Control bronchial smooth muscle",
    "Modulate glandular secretions",
  ],
  position3D: [0, 0, 0.5],
  scale3D: [1.2, 1.2, 1.2],
  color: "#22c55e",
  signalType: "chemical",
  connections: [
    {
      targetId: "brainstem",
      type: "structural",
      strength: 0.95,
      signalType: "electrical",
      label: "Central autonomic control",
    },
    {
      targetId: "hypothalamus",
      type: "modulatory",
      strength: 0.9,
      signalType: "chemical",
      label: "Hypothalamic regulation",
    },
    {
      targetId: "spinal-cord",
      type: "structural",
      strength: 0.85,
      signalType: "electrical",
      label: "Preganglionic outflow",
    },
  ],
  schemaMapping: {
    id: "schema-autonomic-engine",
    collection: "autonomic_engine",
    role: "Background Process Manager",
    description:
      "Manages all involuntary background processes that maintain system homeostasis without requiring conscious executive input.",
    fields: [
      { name: "target_organ", type: "string", description: "Organ or tissue being regulated" },
      { name: "activation_level", type: "float", description: "Current autonomic drive (0-1)" },
      { name: "balance_ratio", type: "float", description: "Sympathetic/parasympathetic balance" },
      { name: "homeostatic_setpoint", type: "float", description: "Target equilibrium value" },
    ],
    activationState: 1.0,
    linkedModules: ["brainstem_controller", "hypothalamic_regulator", "spinal_relay"],
    category: "autonomic",
  },
  children: [
    {
      id: "sympathetic-division",
      name: "Sympathetic Division",
      level: "region",
      category: "autonomic",
      description:
        "The fight-or-flight arm of the autonomic nervous system. Originates from thoracolumbar spinal cord (T1-L2), prepares the body for intense physical activity by increasing heart rate, dilating pupils, inhibiting digestion, and mobilizing energy stores.",
      functions: [
        "Trigger fight-or-flight response",
        "Increase heart rate and contractility",
        "Dilate bronchi for increased airflow",
        "Redirect blood flow to skeletal muscles",
        "Stimulate adrenaline release",
        "Inhibit digestive activity",
        "Dilate pupils for enhanced vision",
      ],
      position3D: [0.3, 0, 0.5],
      color: "#ef4444",
      signalType: "chemical",
      connections: [
        {
          targetId: "parasympathetic-division",
          type: "inhibitory",
          strength: 0.8,
          signalType: "chemical",
          label: "Reciprocal inhibition",
        },
        {
          targetId: "adrenal-medulla-connection",
          type: "excitatory",
          strength: 0.9,
          signalType: "chemical",
          label: "Adrenal activation",
        },
      ],
      schemaMapping: {
        id: "schema-activation-signals",
        collection: "activation_signals",
        role: "Emergency Response System",
        description:
          "High-priority activation pathway that overrides normal operations to mobilize all resources for threat response.",
        fields: [
          { name: "threat_level", type: "float", description: "Detected threat magnitude (0-1)" },
          { name: "response_intensity", type: "float", description: "Sympathetic output level" },
          { name: "target_systems", type: "string[]", description: "Systems being activated" },
          { name: "norepinephrine_level", type: "float", description: "Postganglionic NE release" },
        ],
        activationState: 0.3,
        linkedModules: ["cardiac_accelerator", "bronchodilator", "vasomotor_center"],
        category: "autonomic",
      },
      children: [
        {
          id: "sympathetic-chain-ganglia",
          name: "Sympathetic Chain Ganglia",
          level: "subregion",
          category: "autonomic",
          description:
            "Paravertebral chain of ganglia running alongside the spinal column from cervical to sacral levels. Preganglionic neurons synapse here before postganglionic fibers innervate target organs.",
          functions: [
            "Relay preganglionic sympathetic signals",
            "Distribute sympathetic innervation to multiple segments",
            "Provide bilateral sympathetic outflow",
            "Enable divergent activation of multiple targets",
          ],
          position3D: [0.25, 0.1, 0.5],
          color: "#ef4444",
          signalType: "chemical",
          connections: [
            {
              targetId: "spinal-cord",
              type: "structural",
              strength: 0.95,
              signalType: "electrical",
              label: "Preganglionic input",
            },
          ],
          schemaMapping: {
            id: "schema-sympathetic-chain",
            collection: "activation_signals",
            role: "Signal Distribution Hub",
            description: "Relay station that fans out emergency signals across multiple body segments.",
            fields: [
              { name: "segment_level", type: "string", description: "Spinal level (T1-L2)" },
              { name: "ganglion_activity", type: "float", description: "Synaptic throughput" },
            ],
            activationState: 0.3,
            linkedModules: ["spinal_preganglionic", "postganglionic_fibers"],
            category: "autonomic",
          },
          children: [],
          pathway: [
            { position: [0.05, 0.4, 0.5], radius: 0.01 },
            { position: [0.1, 0.2, 0.5], radius: 0.015 },
            { position: [0.15, 0.0, 0.5], radius: 0.015 },
            { position: [0.2, -0.2, 0.5], radius: 0.01 },
          ],
        },
        {
          id: "cardiac-sympathetic-nerves",
          name: "Cardiac Sympathetic Nerves",
          level: "subregion",
          category: "autonomic",
          description:
            "Postganglionic sympathetic fibers from the stellate ganglion and upper thoracic ganglia that innervate the heart. Increase heart rate (chronotropy), contractility (inotropy), and conduction velocity (dromotropy).",
          functions: [
            "Increase heart rate via SA node stimulation",
            "Enhance myocardial contractility",
            "Accelerate AV conduction velocity",
            "Promote coronary vasodilation during exercise",
          ],
          position3D: [0.2, 0.05, 0.4],
          color: "#ef4444",
          signalType: "chemical",
          connections: [
            {
              targetId: "sa-node",
              type: "excitatory",
              strength: 0.9,
              signalType: "chemical",
              label: "Norepinephrine -> beta-1 receptors",
            },
            {
              targetId: "av-node",
              type: "excitatory",
              strength: 0.85,
              signalType: "chemical",
              label: "Conduction acceleration",
            },
          ],
          schemaMapping: {
            id: "schema-cardiac-sympathetic",
            collection: "activation_signals",
            role: "Cardiac Accelerator",
            description: "Direct excitatory line to heart pacemaker and myocardium for rate and force increase.",
            fields: [
              { name: "heart_rate_delta", type: "float", description: "Change in heart rate (bpm)" },
              { name: "contractility_delta", type: "float", description: "Change in contractile force" },
            ],
            activationState: 0.3,
            linkedModules: ["sa_node_controller", "myocardial_contractility"],
            category: "autonomic",
          },
          children: [],
          pathway: [
            { position: [0.15, 0.2, 0.5], radius: 0.008 },
            { position: [0.12, 0.1, 0.45], radius: 0.01 },
            { position: [0.08, 0.05, 0.4], radius: 0.012 },
          ],
        },
        {
          id: "splanchnic-nerves",
          name: "Splanchnic Nerves",
          level: "subregion",
          category: "autonomic",
          description:
            "Greater, lesser, and least splanchnic nerves carrying preganglionic sympathetic fibers to abdominal organs. Cause vasoconstriction of gut vasculature and inhibit digestive processes during sympathetic activation.",
          functions: [
            "Constrict gut blood vessels during stress",
            "Inhibit GI motility and secretion",
            "Redirect blood flow from splanchnic bed to muscles",
            "Relay visceral pain afferents",
          ],
          position3D: [0.25, -0.05, 0.45],
          color: "#ef4444",
          signalType: "chemical",
          connections: [
            {
              targetId: "enteric-nervous-system",
              type: "inhibitory",
              strength: 0.7,
              signalType: "chemical",
              label: "GI inhibition during stress",
            },
          ],
          schemaMapping: {
            id: "schema-splanchnic",
            collection: "activation_signals",
            role: "Gut Vasoconstrictor",
            description: "Diverts blood flow from digestive organs to priority systems during stress activation.",
            fields: [
              { name: "vasoconstriction_level", type: "float", description: "Degree of gut vessel constriction" },
              { name: "gi_inhibition", type: "float", description: "Suppression of digestive activity" },
            ],
            activationState: 0.2,
            linkedModules: ["gut_vasculature", "mesenteric_plexus"],
            category: "autonomic",
          },
          children: [],
          pathway: [
            { position: [0.15, 0.1, 0.5], radius: 0.008 },
            { position: [0.2, 0.0, 0.48], radius: 0.01 },
            { position: [0.25, -0.1, 0.45], radius: 0.012 },
            { position: [0.2, -0.2, 0.4], radius: 0.01 },
          ],
        },
        {
          id: "adrenal-medulla-connection",
          name: "Adrenal Medulla Connection",
          level: "subregion",
          category: "autonomic",
          description:
            "Direct preganglionic sympathetic innervation of the adrenal medulla (modified ganglion). Triggers release of epinephrine (80%) and norepinephrine (20%) into the bloodstream for systemic fight-or-flight amplification.",
          functions: [
            "Trigger systemic adrenaline release",
            "Amplify sympathetic response via bloodstream",
            "Mobilize glucose from liver glycogen",
            "Sustain prolonged fight-or-flight state",
          ],
          position3D: [0.3, -0.1, 0.45],
          color: "#ef4444",
          signalType: "hormonal",
          connections: [
            {
              targetId: "sympathetic-division",
              type: "excitatory",
              strength: 0.95,
              signalType: "chemical",
              label: "Preganglionic ACh to chromaffin cells",
            },
          ],
          schemaMapping: {
            id: "schema-adrenal-medulla",
            collection: "activation_signals",
            role: "Adrenaline Release Trigger",
            description: "Converts localized neural signal to system-wide hormonal broadcast for sustained emergency response.",
            fields: [
              { name: "epinephrine_level", type: "float", description: "Circulating adrenaline concentration" },
              { name: "norepinephrine_level", type: "float", description: "Circulating noradrenaline concentration" },
              { name: "release_duration", type: "float", description: "Duration of hormonal surge (seconds)" },
            ],
            activationState: 0.15,
            linkedModules: ["adrenal_gland", "hepatic_glycogenolysis", "systemic_vasculature"],
            category: "endocrine",
          },
          children: [],
          pathway: [
            { position: [0.2, 0.0, 0.5], radius: 0.008 },
            { position: [0.25, -0.05, 0.48], radius: 0.01 },
            { position: [0.3, -0.15, 0.45], radius: 0.015 },
          ],
        },
        {
          id: "pupil-dilator-pathway",
          name: "Pupil Dilator Pathway",
          level: "circuit",
          category: "autonomic",
          description:
            "Sympathetic pathway from hypothalamus through ciliospinal center (C8-T2), superior cervical ganglion, and long ciliary nerves to the dilator pupillae muscle. Dilates pupils during sympathetic arousal.",
          functions: [
            "Dilate pupils in low light or arousal",
            "Increase visual field sensitivity",
            "Contract dilator pupillae muscle via alpha-1 receptors",
          ],
          position3D: [0.15, 0.25, 0.35],
          color: "#ef4444",
          signalType: "chemical",
          connections: [
            {
              targetId: "oculomotor-parasympathetic",
              type: "inhibitory",
              strength: 0.7,
              signalType: "chemical",
              label: "Antagonizes pupil constriction",
            },
          ],
          schemaMapping: {
            id: "schema-pupil-dilator",
            collection: "activation_signals",
            role: "Visual Aperture Opener",
            description: "Widens the optical aperture to maximize light intake during threat detection.",
            fields: [
              { name: "dilation_level", type: "float", description: "Pupil diameter (mm)" },
              { name: "light_sensitivity", type: "float", description: "Retinal exposure factor" },
            ],
            activationState: 0.3,
            linkedModules: ["superior_cervical_ganglion", "dilator_pupillae"],
            category: "autonomic",
          },
          children: [],
          pathway: [
            { position: [0.0, 0.3, 0.4], radius: 0.005 },
            { position: [0.05, 0.28, 0.38], radius: 0.006 },
            { position: [0.1, 0.26, 0.36], radius: 0.006 },
            { position: [0.15, 0.25, 0.35], radius: 0.005 },
          ],
        },
        {
          id: "bronchodilation-pathway",
          name: "Bronchodilation Pathway",
          level: "circuit",
          category: "autonomic",
          description:
            "Sympathetic pathway mediating bronchial smooth muscle relaxation via beta-2 adrenergic receptors. Primarily driven by circulating epinephrine from adrenal medulla rather than direct sympathetic innervation.",
          functions: [
            "Relax bronchial smooth muscle",
            "Increase airway diameter for enhanced airflow",
            "Facilitate increased oxygen intake during exertion",
          ],
          position3D: [0.2, 0.1, 0.4],
          color: "#ef4444",
          signalType: "chemical",
          connections: [
            {
              targetId: "adrenal-medulla-connection",
              type: "excitatory",
              strength: 0.8,
              signalType: "hormonal",
              label: "Circulating epinephrine on beta-2 receptors",
            },
          ],
          schemaMapping: {
            id: "schema-bronchodilation",
            collection: "activation_signals",
            role: "Airway Expander",
            description: "Opens respiratory passages to maximize gas exchange during high-demand states.",
            fields: [
              { name: "bronchial_diameter", type: "float", description: "Airway caliber (mm)" },
              { name: "airflow_rate", type: "float", description: "Liters per minute capacity" },
            ],
            activationState: 0.25,
            linkedModules: ["bronchial_smooth_muscle", "adrenal_epinephrine"],
            category: "autonomic",
          },
          children: [],
          pathway: [
            { position: [0.25, 0.0, 0.45], radius: 0.008 },
            { position: [0.22, 0.05, 0.42], radius: 0.01 },
            { position: [0.18, 0.1, 0.4], radius: 0.012 },
          ],
        },
      ],
    },
    {
      id: "parasympathetic-division",
      name: "Parasympathetic Division",
      level: "region",
      category: "autonomic",
      description:
        "The rest-and-digest arm of the autonomic nervous system. Originates from cranial nerves (III, VII, IX, X) and sacral spinal cord (S2-S4). Conserves energy, promotes digestion, slows heart rate, and supports restorative functions.",
      functions: [
        "Slow heart rate to resting levels",
        "Stimulate digestive secretions and motility",
        "Constrict pupils for near vision",
        "Promote urination and defecation",
        "Stimulate salivation and lacrimation",
        "Constrict bronchi at rest",
        "Support sexual arousal",
      ],
      position3D: [-0.3, 0, 0.5],
      color: "#3b82f6",
      signalType: "chemical",
      connections: [
        {
          targetId: "sympathetic-division",
          type: "inhibitory",
          strength: 0.8,
          signalType: "chemical",
          label: "Reciprocal inhibition",
        },
        {
          targetId: "enteric-nervous-system",
          type: "excitatory",
          strength: 0.75,
          signalType: "chemical",
          label: "GI stimulation",
        },
      ],
      schemaMapping: {
        id: "schema-restoration-signals",
        collection: "restoration_signals",
        role: "Recovery/Conservation System",
        description:
          "Energy conservation and tissue repair pathway that activates during safe, low-threat states to restore system resources.",
        fields: [
          { name: "recovery_mode", type: "boolean", description: "Whether rest-and-digest is dominant" },
          { name: "vagal_tone", type: "float", description: "Baseline parasympathetic drive (0-1)" },
          { name: "digestive_activity", type: "float", description: "GI processing level" },
          { name: "acetylcholine_level", type: "float", description: "Postganglionic ACh release" },
        ],
        activationState: 0.7,
        linkedModules: ["vagal_complex", "sacral_outflow", "cranial_parasympathetics"],
        category: "autonomic",
      },
      children: [
        {
          id: "vagus-nerve",
          name: "Vagus Nerve (CN X)",
          level: "subregion",
          category: "autonomic",
          description:
            "The longest cranial nerve, providing parasympathetic innervation to heart, lungs, and most of the GI tract. The major parasympathetic pathway carrying ~75% of all parasympathetic fibers. Also carries sensory and motor fibers.",
          functions: [
            "Slow heart rate via cardiac branches",
            "Constrict bronchi via pulmonary branches",
            "Stimulate gastric acid and motility",
            "Regulate liver and gallbladder function",
            "Mediate anti-inflammatory reflex",
            "Carry visceral sensory information to brainstem",
          ],
          position3D: [-0.15, 0.1, 0.35],
          color: "#3b82f6",
          signalType: "chemical",
          connections: [
            {
              targetId: "sa-node",
              type: "inhibitory",
              strength: 0.85,
              signalType: "chemical",
              label: "ACh -> M2 receptors slowing SA node",
            },
            {
              targetId: "enteric-nervous-system",
              type: "excitatory",
              strength: 0.8,
              signalType: "chemical",
              label: "GI motility stimulation",
            },
          ],
          schemaMapping: {
            id: "schema-global-state-modifier",
            collection: "global_state_modifier",
            role: "System-Wide Modulator",
            description:
              "A single long-range communication bus that touches nearly every major subsystem, modulating global system state toward conservation and recovery.",
            fields: [
              { name: "vagal_tone_index", type: "float", description: "Heart rate variability proxy (0-1)" },
              { name: "afferent_load", type: "float", description: "Sensory information volume from organs" },
              { name: "efferent_output", type: "float", description: "Motor command output to organs" },
              { name: "inflammatory_suppression", type: "float", description: "Anti-inflammatory reflex strength" },
            ],
            activationState: 0.75,
            linkedModules: ["nucleus_tractus_solitarius", "dorsal_motor_nucleus", "nucleus_ambiguus"],
            category: "autonomic",
          },
          children: [
            {
              id: "vagus-cardiac-branch",
              name: "Cardiac Branch of Vagus",
              level: "circuit",
              category: "autonomic",
              description:
                "Parasympathetic fibers from the vagus that innervate the SA and AV nodes. Release acetylcholine to slow heart rate and reduce conduction velocity.",
              functions: [
                "Reduce heart rate via SA node inhibition",
                "Slow AV conduction to lengthen diastolic filling",
                "Maintain resting cardiac vagal tone",
              ],
              position3D: [-0.1, 0.05, 0.35],
              color: "#3b82f6",
              signalType: "chemical",
              connections: [
                {
                  targetId: "sa-node",
                  type: "inhibitory",
                  strength: 0.9,
                  signalType: "chemical",
                  label: "ACh slows pacemaker firing",
                },
                {
                  targetId: "cardiac-sympathetic-nerves",
                  type: "inhibitory",
                  strength: 0.7,
                  signalType: "chemical",
                  label: "Opposes sympathetic cardiac drive",
                },
              ],
              schemaMapping: {
                id: "schema-vagus-cardiac",
                collection: "global_state_modifier",
                role: "Heart Rate Governor",
                description: "Braking mechanism on cardiac pacemaker, dominant at rest to maintain low energy expenditure.",
                fields: [
                  { name: "heart_rate_suppression", type: "float", description: "Beats per minute reduction" },
                  { name: "ach_release_rate", type: "float", description: "Acetylcholine output at SA/AV" },
                ],
                activationState: 0.8,
                linkedModules: ["sa_node_controller", "av_node_delay"],
                category: "autonomic",
              },
              children: [],
              pathway: [
                { position: [-0.05, 0.2, 0.35], radius: 0.006 },
                { position: [-0.08, 0.12, 0.35], radius: 0.008 },
                { position: [-0.1, 0.05, 0.35], radius: 0.008 },
              ],
            },
            {
              id: "vagus-pulmonary-branch",
              name: "Pulmonary Branch of Vagus",
              level: "circuit",
              category: "autonomic",
              description:
                "Vagal fibers to the bronchial tree and pulmonary vasculature. Cause bronchoconstriction and increased mucus secretion at rest.",
              functions: [
                "Constrict bronchial smooth muscle at rest",
                "Increase bronchial mucus secretion",
                "Regulate pulmonary vascular tone",
              ],
              position3D: [-0.12, 0.08, 0.38],
              color: "#3b82f6",
              signalType: "chemical",
              connections: [
                {
                  targetId: "bronchodilation-pathway",
                  type: "inhibitory",
                  strength: 0.65,
                  signalType: "chemical",
                  label: "Opposes sympathetic bronchodilation",
                },
              ],
              schemaMapping: {
                id: "schema-vagus-pulmonary",
                collection: "global_state_modifier",
                role: "Airway Constrictor",
                description: "Maintains resting airway tone and secretion to protect and maintain respiratory passages.",
                fields: [
                  { name: "bronchial_tone", type: "float", description: "Resting constriction level" },
                  { name: "mucus_secretion", type: "float", description: "Mucus production rate" },
                ],
                activationState: 0.6,
                linkedModules: ["bronchial_smooth_muscle", "submucosal_glands"],
                category: "autonomic",
              },
              children: [],
              pathway: [
                { position: [-0.05, 0.2, 0.36], radius: 0.005 },
                { position: [-0.08, 0.14, 0.37], radius: 0.006 },
                { position: [-0.12, 0.08, 0.38], radius: 0.007 },
              ],
            },
            {
              id: "vagus-gastric-branch",
              name: "Gastric Branch of Vagus",
              level: "circuit",
              category: "autonomic",
              description:
                "Vagal fibers to the stomach stimulating gastric acid secretion, pepsinogen release, and gastric motility for digestion.",
              functions: [
                "Stimulate gastric acid (HCl) secretion",
                "Promote pepsinogen release from chief cells",
                "Increase gastric smooth muscle motility",
                "Relax pyloric sphincter for gastric emptying",
              ],
              position3D: [-0.15, -0.05, 0.4],
              color: "#3b82f6",
              signalType: "chemical",
              connections: [
                {
                  targetId: "myenteric-plexus",
                  type: "excitatory",
                  strength: 0.8,
                  signalType: "chemical",
                  label: "Stimulates enteric motility circuits",
                },
              ],
              schemaMapping: {
                id: "schema-vagus-gastric",
                collection: "global_state_modifier",
                role: "Digestive Activator",
                description: "Initiates and sustains gastric digestive processes during rest-and-digest state.",
                fields: [
                  { name: "acid_secretion_rate", type: "float", description: "HCl production rate" },
                  { name: "motility_level", type: "float", description: "Gastric churning intensity" },
                ],
                activationState: 0.65,
                linkedModules: ["parietal_cells", "chief_cells", "gastric_smooth_muscle"],
                category: "autonomic",
              },
              children: [],
              pathway: [
                { position: [-0.05, 0.15, 0.35], radius: 0.005 },
                { position: [-0.1, 0.05, 0.37], radius: 0.007 },
                { position: [-0.15, -0.05, 0.4], radius: 0.008 },
              ],
            },
            {
              id: "vagus-hepatic-branch",
              name: "Hepatic Branch of Vagus",
              level: "circuit",
              category: "autonomic",
              description:
                "Vagal fibers innervating the liver and gallbladder. Regulate bile release, hepatic glucose metabolism, and gallbladder contraction.",
              functions: [
                "Stimulate bile secretion from liver",
                "Contract gallbladder for bile release",
                "Modulate hepatic glucose storage and release",
                "Sense hepatic metabolic state via afferents",
              ],
              position3D: [-0.18, -0.08, 0.42],
              color: "#3b82f6",
              signalType: "chemical",
              connections: [
                {
                  targetId: "vagus-gastric-branch",
                  type: "modulatory",
                  strength: 0.5,
                  signalType: "chemical",
                  label: "Coordinates bile with gastric emptying",
                },
              ],
              schemaMapping: {
                id: "schema-vagus-hepatic",
                collection: "global_state_modifier",
                role: "Hepatobiliary Controller",
                description: "Manages liver and gallbladder output in coordination with digestive demands.",
                fields: [
                  { name: "bile_flow_rate", type: "float", description: "Bile secretion volume" },
                  { name: "glycogen_balance", type: "float", description: "Storage vs release state" },
                ],
                activationState: 0.55,
                linkedModules: ["hepatocytes", "gallbladder_smooth_muscle"],
                category: "autonomic",
              },
              children: [],
              pathway: [
                { position: [-0.08, 0.1, 0.36], radius: 0.005 },
                { position: [-0.12, 0.02, 0.38], radius: 0.006 },
                { position: [-0.18, -0.08, 0.42], radius: 0.007 },
              ],
            },
            {
              id: "vagus-celiac-branch",
              name: "Celiac Branch of Vagus",
              level: "circuit",
              category: "autonomic",
              description:
                "Vagal fibers reaching the celiac plexus to innervate the small intestine and proximal colon. Stimulates gut motility and enzyme secretion for nutrient absorption.",
              functions: [
                "Stimulate small intestine motility",
                "Promote pancreatic enzyme secretion",
                "Enhance nutrient absorption activity",
                "Coordinate peristalsis via enteric neurons",
              ],
              position3D: [-0.2, -0.12, 0.42],
              color: "#3b82f6",
              signalType: "chemical",
              connections: [
                {
                  targetId: "myenteric-plexus",
                  type: "excitatory",
                  strength: 0.75,
                  signalType: "chemical",
                  label: "Intestinal motility drive",
                },
                {
                  targetId: "submucosal-plexus",
                  type: "excitatory",
                  strength: 0.7,
                  signalType: "chemical",
                  label: "Secretory stimulation",
                },
              ],
              schemaMapping: {
                id: "schema-vagus-celiac",
                collection: "global_state_modifier",
                role: "Intestinal Coordinator",
                description: "Drives gut motility and secretion in the small intestine and proximal colon for nutrient processing.",
                fields: [
                  { name: "peristalsis_rate", type: "float", description: "Contractions per minute" },
                  { name: "secretion_volume", type: "float", description: "Enzyme/fluid output" },
                ],
                activationState: 0.6,
                linkedModules: ["celiac_ganglion", "intestinal_smooth_muscle", "pancreatic_acinar"],
                category: "autonomic",
              },
              children: [],
              pathway: [
                { position: [-0.08, 0.08, 0.36], radius: 0.005 },
                { position: [-0.14, -0.02, 0.39], radius: 0.006 },
                { position: [-0.2, -0.12, 0.42], radius: 0.007 },
              ],
            },
          ],
          pathway: [
            { position: [0.0, 0.3, 0.3], radius: 0.01 },
            { position: [-0.05, 0.2, 0.32], radius: 0.015 },
            { position: [-0.1, 0.1, 0.34], radius: 0.015 },
            { position: [-0.15, 0.0, 0.36], radius: 0.012 },
            { position: [-0.2, -0.15, 0.4], radius: 0.01 },
          ],
        },
        {
          id: "oculomotor-parasympathetic",
          name: "Oculomotor Parasympathetic",
          level: "circuit",
          category: "autonomic",
          description:
            "Parasympathetic fibers traveling with CN III from the Edinger-Westphal nucleus to the ciliary ganglion, then to the sphincter pupillae and ciliary muscles. Controls pupil constriction (miosis) and lens accommodation.",
          functions: [
            "Constrict pupil for bright light adaptation",
            "Accommodate lens for near vision",
            "Mediate pupillary light reflex",
          ],
          position3D: [-0.1, 0.25, 0.3],
          color: "#3b82f6",
          signalType: "chemical",
          connections: [
            {
              targetId: "pupil-dilator-pathway",
              type: "inhibitory",
              strength: 0.7,
              signalType: "chemical",
              label: "Antagonizes sympathetic dilation",
            },
          ],
          schemaMapping: {
            id: "schema-oculomotor-parasym",
            collection: "restoration_signals",
            role: "Visual Aperture Closer",
            description: "Narrows the optical aperture for focused near vision and bright-light protection.",
            fields: [
              { name: "pupil_constriction", type: "float", description: "Sphincter pupillae tone" },
              { name: "lens_accommodation", type: "float", description: "Ciliary muscle curvature adjustment" },
            ],
            activationState: 0.6,
            linkedModules: ["edinger_westphal_nucleus", "ciliary_ganglion"],
            category: "autonomic",
          },
          children: [],
          pathway: [
            { position: [0.0, 0.25, 0.28], radius: 0.004 },
            { position: [-0.04, 0.25, 0.29], radius: 0.005 },
            { position: [-0.08, 0.25, 0.3], radius: 0.005 },
          ],
        },
        {
          id: "sacral-parasympathetic",
          name: "Sacral Parasympathetic",
          level: "subregion",
          category: "autonomic",
          description:
            "Parasympathetic outflow from sacral spinal cord segments S2-S4 via pelvic splanchnic nerves. Innervates bladder, distal colon, rectum, and reproductive organs.",
          functions: [
            "Contract bladder detrusor for urination",
            "Stimulate distal colon and rectal motility",
            "Mediate erectile function",
            "Promote vaginal lubrication",
            "Relax internal urethral sphincter",
          ],
          position3D: [-0.2, -0.3, 0.5],
          color: "#3b82f6",
          signalType: "chemical",
          connections: [
            {
              targetId: "spinal-cord",
              type: "structural",
              strength: 0.85,
              signalType: "electrical",
              label: "S2-S4 preganglionic outflow",
            },
          ],
          schemaMapping: {
            id: "schema-sacral-parasym",
            collection: "restoration_signals",
            role: "Pelvic Organ Controller",
            description: "Manages elimination and reproductive organ functions via sacral parasympathetic outflow.",
            fields: [
              { name: "bladder_pressure", type: "float", description: "Detrusor contraction level" },
              { name: "rectal_motility", type: "float", description: "Distal colon peristalsis" },
              { name: "reproductive_state", type: "float", description: "Sexual arousal/function level" },
            ],
            activationState: 0.4,
            linkedModules: ["pelvic_ganglion", "bladder_detrusor", "distal_colon"],
            category: "autonomic",
          },
          children: [],
          pathway: [
            { position: [0.0, -0.2, 0.5], radius: 0.008 },
            { position: [-0.1, -0.25, 0.5], radius: 0.01 },
            { position: [-0.2, -0.3, 0.5], radius: 0.01 },
          ],
        },
      ],
    },
    {
      id: "enteric-nervous-system",
      name: "Enteric Nervous System",
      level: "region",
      category: "autonomic",
      description:
        "The 'second brain' — an extensive mesh of 200-600 million neurons embedded in the gut wall, capable of autonomous function independent of CNS input. Contains sensory neurons, interneurons, and motor neurons organized into two major plexuses.",
      functions: [
        "Autonomously regulate gut motility",
        "Control gastrointestinal secretions",
        "Manage local blood flow in GI tract",
        "Process local sensory information",
        "Coordinate peristaltic reflex",
        "Produce ~95% of body's serotonin",
      ],
      position3D: [0, -0.2, 0.5],
      color: "#22c55e",
      signalType: "chemical",
      connections: [
        {
          targetId: "vagus-nerve",
          type: "modulatory",
          strength: 0.7,
          signalType: "chemical",
          label: "Vagal modulation of enteric activity",
        },
        {
          targetId: "sympathetic-division",
          type: "modulatory",
          strength: 0.5,
          signalType: "chemical",
          label: "Sympathetic inhibition of GI",
        },
      ],
      schemaMapping: {
        id: "schema-gut-processor",
        collection: "gut_processor",
        role: "Distributed Sub-Controller",
        description:
          "Self-contained processing network with its own sensory, integrative, and motor neurons — functions autonomously but accepts modulatory input from central systems.",
        fields: [
          { name: "neuron_count", type: "int", description: "Approx 200-600 million neurons" },
          { name: "serotonin_production", type: "float", description: "~95% of body serotonin output" },
          { name: "autonomous_mode", type: "boolean", description: "Operating independently of CNS" },
          { name: "motility_pattern", type: "string", description: "Current peristaltic program" },
        ],
        activationState: 0.8,
        linkedModules: ["vagal_input", "sympathetic_input", "gut_microbiome"],
        category: "autonomic",
      },
      children: [
        {
          id: "myenteric-plexus",
          name: "Myenteric Plexus (Auerbach's)",
          level: "subregion",
          category: "autonomic",
          description:
            "Plexus located between the longitudinal and circular muscle layers of the gut wall. Primarily controls GI motility — peristalsis, segmentation, and migrating motor complex.",
          functions: [
            "Coordinate peristaltic contractions",
            "Generate migrating motor complex (interdigestive)",
            "Control segmentation movements for mixing",
            "Regulate gut transit time",
          ],
          position3D: [0.05, -0.22, 0.5],
          color: "#22c55e",
          signalType: "chemical",
          connections: [
            {
              targetId: "submucosal-plexus",
              type: "excitatory",
              strength: 0.7,
              signalType: "chemical",
              label: "Coordinates motility with secretion",
            },
          ],
          schemaMapping: {
            id: "schema-myenteric-plexus",
            collection: "gut_processor",
            role: "Motility Controller",
            description: "Orchestrates rhythmic contractions of gut smooth muscle for propulsion and mixing of contents.",
            fields: [
              { name: "contraction_frequency", type: "float", description: "Cycles per minute" },
              { name: "contraction_amplitude", type: "float", description: "Force of peristaltic wave" },
              { name: "propagation_velocity", type: "float", description: "Speed of peristaltic wave (cm/s)" },
            ],
            activationState: 0.75,
            linkedModules: ["circular_muscle", "longitudinal_muscle", "interstitial_cells_of_cajal"],
            category: "autonomic",
          },
          children: [],
        },
        {
          id: "submucosal-plexus",
          name: "Submucosal Plexus (Meissner's)",
          level: "subregion",
          category: "autonomic",
          description:
            "Plexus located in the submucosal layer of the gut wall. Primarily controls GI secretion, absorption, and local blood flow. Detects luminal contents and adjusts secretory response.",
          functions: [
            "Regulate intestinal secretions (enzymes, mucus, fluid)",
            "Control local blood flow to mucosa",
            "Sense luminal chemical composition",
            "Coordinate absorption processes",
          ],
          position3D: [-0.05, -0.22, 0.5],
          color: "#22c55e",
          signalType: "chemical",
          connections: [
            {
              targetId: "myenteric-plexus",
              type: "excitatory",
              strength: 0.65,
              signalType: "chemical",
              label: "Feeds sensory info to motility circuits",
            },
          ],
          schemaMapping: {
            id: "schema-submucosal-plexus",
            collection: "gut_processor",
            role: "Secretion Controller",
            description: "Regulates fluid, enzyme, and mucus output in response to luminal content detection.",
            fields: [
              { name: "secretion_rate", type: "float", description: "mL/hour of digestive fluids" },
              { name: "mucosal_blood_flow", type: "float", description: "Local perfusion rate" },
              { name: "luminal_ph", type: "float", description: "Detected pH of gut contents" },
            ],
            activationState: 0.7,
            linkedModules: ["goblet_cells", "enterocytes", "mucosal_vasculature"],
            category: "autonomic",
          },
          children: [],
        },
      ],
    },
    {
      id: "hearts-intrinsic-system",
      name: "Heart's Intrinsic Conduction System",
      level: "region",
      category: "autonomic",
      description:
        "The heart's own electrical conduction system, capable of generating and propagating rhythmic impulses independent of external neural input. Ensures coordinated atrial and ventricular contraction for effective blood pumping.",
      functions: [
        "Generate intrinsic heart rhythm",
        "Coordinate atrial contraction",
        "Delay signal for ventricular filling",
        "Propagate rapid ventricular depolarization",
        "Maintain cardiac output even if denervated",
      ],
      position3D: [0, 0.05, 0.35],
      color: "#f97316",
      signalType: "electrical",
      connections: [
        {
          targetId: "vagus-cardiac-branch",
          type: "modulatory",
          strength: 0.85,
          signalType: "chemical",
          label: "Parasympathetic slowing",
        },
        {
          targetId: "cardiac-sympathetic-nerves",
          type: "modulatory",
          strength: 0.85,
          signalType: "chemical",
          label: "Sympathetic acceleration",
        },
      ],
      schemaMapping: {
        id: "schema-cardiac-conduction",
        collection: "oscillation_generator",
        role: "Cardiac Rhythm Engine",
        description: "Self-sustaining oscillatory system that generates the heartbeat, modulated by autonomic inputs.",
        fields: [
          { name: "intrinsic_rate", type: "float", description: "Unmodulated firing rate (~100 bpm)" },
          { name: "effective_rate", type: "float", description: "Final heart rate after autonomic modulation" },
          { name: "conduction_integrity", type: "float", description: "Signal propagation health (0-1)" },
        ],
        activationState: 1.0,
        linkedModules: ["vagal_cardiac_input", "sympathetic_cardiac_input"],
        category: "autonomic",
      },
      children: [
        {
          id: "sa-node",
          name: "SA Node (Sinoatrial Node)",
          level: "circuit",
          category: "autonomic",
          description:
            "The primary pacemaker of the heart, located in the right atrium. Spontaneously depolarizes at ~60-100 bpm, setting the intrinsic heart rate. Fastest automaticity wins — the SA node normally dominates.",
          functions: [
            "Generate primary heart rhythm (~60-100 bpm)",
            "Initiate each cardiac cycle",
            "Respond to autonomic modulation of rate",
            "Set the dominant pacemaker frequency",
          ],
          position3D: [0.05, 0.08, 0.33],
          color: "#f97316",
          signalType: "electrical",
          connections: [
            {
              targetId: "av-node",
              type: "excitatory",
              strength: 1.0,
              signalType: "electrical",
              label: "Depolarization wave to AV node",
            },
          ],
          schemaMapping: {
            id: "schema-sa-node",
            collection: "oscillation_generator",
            role: "Primary Clock Generator",
            description: "The master oscillator that sets the fundamental rhythm for the entire cardiac system.",
            fields: [
              { name: "firing_rate", type: "float", description: "Spontaneous depolarization rate (bpm)" },
              { name: "threshold_voltage", type: "float", description: "Depolarization threshold (mV)" },
              { name: "autonomic_modulation", type: "float", description: "Net autonomic influence (-1 to +1)" },
            ],
            activationState: 1.0,
            linkedModules: ["atrial_myocardium", "av_node"],
            category: "autonomic",
          },
          children: [],
        },
        {
          id: "av-node",
          name: "AV Node (Atrioventricular Node)",
          level: "circuit",
          category: "autonomic",
          description:
            "Located at the junction of atria and ventricles. Introduces a ~120ms delay to allow complete atrial contraction before ventricular activation. Serves as backup pacemaker at ~40-60 bpm if SA node fails.",
          functions: [
            "Delay conduction for atrial emptying (~120ms)",
            "Filter excessively rapid atrial impulses",
            "Serve as backup pacemaker (40-60 bpm)",
            "Gate signal transmission to ventricles",
          ],
          position3D: [0.0, 0.04, 0.34],
          color: "#f97316",
          signalType: "electrical",
          connections: [
            {
              targetId: "bundle-of-his",
              type: "excitatory",
              strength: 1.0,
              signalType: "electrical",
              label: "Delayed signal to His bundle",
            },
          ],
          schemaMapping: {
            id: "schema-av-node",
            collection: "oscillation_generator",
            role: "Signal Delay Gate",
            description: "Introduces critical timing delay between atrial and ventricular activation for optimal pumping efficiency.",
            fields: [
              { name: "conduction_delay", type: "float", description: "Delay duration (ms, ~120)" },
              { name: "backup_rate", type: "float", description: "Intrinsic firing if SA fails (bpm)" },
              { name: "filtering_threshold", type: "float", description: "Max atrial rate passed through" },
            ],
            activationState: 0.95,
            linkedModules: ["sa_node", "bundle_of_his"],
            category: "autonomic",
          },
          children: [],
        },
        {
          id: "bundle-of-his",
          name: "Bundle of His",
          level: "circuit",
          category: "autonomic",
          description:
            "The only electrical conduit between atria and ventricles, penetrating the fibrous skeleton of the heart. Splits into left and right bundle branches to deliver depolarization to respective ventricles.",
          functions: [
            "Conduct signal from AV node to ventricles",
            "Split into left and right bundle branches",
            "Bridge the electrically insulating cardiac skeleton",
            "Serve as tertiary pacemaker (~25-40 bpm) if needed",
          ],
          position3D: [0.0, 0.01, 0.34],
          color: "#f97316",
          signalType: "electrical",
          connections: [
            {
              targetId: "purkinje-fibers",
              type: "excitatory",
              strength: 1.0,
              signalType: "electrical",
              label: "Rapid conduction to Purkinje network",
            },
          ],
          schemaMapping: {
            id: "schema-bundle-his",
            collection: "oscillation_generator",
            role: "Ventricular Conduction Bridge",
            description: "The sole electrical bridge between atrial and ventricular chambers, enabling coordinated pump action.",
            fields: [
              { name: "conduction_velocity", type: "float", description: "Signal speed (m/s)" },
              { name: "branch_integrity", type: "boolean", description: "Left and right branches intact" },
            ],
            activationState: 0.95,
            linkedModules: ["av_node", "purkinje_network"],
            category: "autonomic",
          },
          children: [],
        },
        {
          id: "purkinje-fibers",
          name: "Purkinje Fibers",
          level: "circuit",
          category: "autonomic",
          description:
            "Specialized fast-conducting fibers (2-4 m/s) that distribute depolarization throughout the ventricular myocardium. Ensure near-simultaneous contraction of the entire ventricular wall for efficient ejection.",
          functions: [
            "Rapidly distribute depolarization across ventricles",
            "Ensure synchronized ventricular contraction",
            "Conduct at 2-4 m/s (fastest in the heart)",
            "Enable efficient blood ejection from ventricles",
          ],
          position3D: [0.0, -0.03, 0.34],
          color: "#f97316",
          signalType: "electrical",
          connections: [
            {
              targetId: "bundle-of-his",
              type: "structural",
              strength: 1.0,
              signalType: "electrical",
              label: "Receives from bundle branches",
            },
          ],
          schemaMapping: {
            id: "schema-purkinje",
            collection: "oscillation_generator",
            role: "Rapid Ventricular Activator",
            description: "High-speed distribution network ensuring all ventricular muscle fibers contract in near-unison.",
            fields: [
              { name: "conduction_velocity", type: "float", description: "2-4 m/s propagation speed" },
              { name: "coverage_percent", type: "float", description: "Ventricular wall coverage" },
              { name: "synchronization_index", type: "float", description: "Contraction uniformity (0-1)" },
            ],
            activationState: 0.95,
            linkedModules: ["ventricular_myocardium", "bundle_branches"],
            category: "autonomic",
          },
          children: [],
        },
      ],
    },
  ],
};
